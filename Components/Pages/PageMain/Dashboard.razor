@page "/dashboard"
@namespace TaskSurvey.Components.Pages.Dashboard
@layout MainLayout
@rendermode InteractiveServer

<PageTitle>Dashboard</PageTitle>

<div class="container-fluid px-4 py-4 bg-main" style="min-height: 100vh;">
    <!-- Greeting Card -->
    <div class="row mb-4">
        <div class="col-12">
            <div class="card border-0 shadow-sm rounded-3 bg-primary text-white overflow-hidden position-relative">
                <div class="card-body p-4">
                    <div class="row align-items-center">
                        <div class="col-md-8">
                            <div class="d-flex align-items-center gap-3 mb-2">
                                <div class="bg-white bg-opacity-25 rounded-circle p-3">
                                    <i class="bi @GetGreetingIcon() fs-1"></i>
                                </div>
                                <div>
                                    <h2 class="fw-bold mb-1">@GetGreeting(), @currentUser?.Username!</h2>
                                    <p class="mb-0 opacity-75">@DateTime.Now.ToString("dddd, dd MMMM yyyy")</p>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-4 text-end d-none d-md-block">
                            <div class="display-1 fw-bold opacity-25">
                                @DateTime.Now.ToString("HH:mm")
                            </div>
                        </div>
                    </div>
                </div>
                <div style="position: absolute; top: -50px; right: -50px; width: 200px; height: 200px; background: rgba(255,255,255,0.1); border-radius: 50%;"></div>
                <div style="position: absolute; bottom: -30px; right: 100px; width: 100px; height: 100px; background: rgba(255,255,255,0.1); border-radius: 50%;"></div>
            </div>
        </div>
    </div>

    <!-- Quick Stats -->
    <div class="row g-3 mb-4">
        <div class="col-md-3 col-sm-6">
            <div class="card border-custom shadow-sm rounded-3 h-100 bg-card">
                <div class="card-body p-3">
                    <div class="d-flex align-items-center">
                        <div class="bg-primary text-white p-3 rounded-3 me-3">
                            <i class="bi bi-clipboard-check-fill fs-4"></i>
                        </div>
                        <div>
                            <p class="text-muted mb-0 small">Total Surveys</p>
                            <h3 class="fw-bold mb-0 text-title">@totalSurveys</h3>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="col-md-3 col-sm-6">
            <div class="card border-custom shadow-sm rounded-3 h-100 bg-card">
                <div class="card-body p-3">
                    <div class="d-flex align-items-center">
                        <div class="text-white p-3 rounded-3 me-3 badge-success-custom">
                            <i class="bi bi-file-earmark-text-fill fs-4"></i>
                        </div>
                        <div>
                            <p class="text-muted mb-0 small">Templates</p>
                            <h3 class="fw-bold mb-0 text-title">@totalTemplates</h3>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="col-md-3 col-sm-6">
            <div class="card border-custom shadow-sm rounded-3 h-100 bg-card">
                <div class="card-body p-3">
                    <div class="d-flex align-items-center">
                        <div class="text-white p-3 rounded-3 me-3" style="background-color: var(--bs-secondary);">
                            <i class="bi bi-people-fill fs-4"></i>
                        </div>
                        <div>
                            <p class="text-muted mb-0 small">Total Users</p>
                            <h3 class="fw-bold mb-0 text-title">@totalUsers</h3>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="col-md-3 col-sm-6">
            <div class="card border-custom shadow-sm rounded-3 h-100 bg-card">
                <div class="card-body p-3">
                    <div class="d-flex align-items-center">
                        <div class="text-white p-3 rounded-3 me-3" style="background: linear-gradient(135deg, #6366F1 0%, #8B5CF6 100%);">
                            <i class="bi bi-clock-history fs-4"></i>
                        </div>
                        <div>
                            <p class="text-muted mb-0 small">Pending</p>
                            <h3 class="fw-bold mb-0 text-title">@pendingSurveys</h3>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>